webpackJsonp([7],{568:function(t,a,e){"use strict";function r(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var n,i=(e(608),e(610)),s=e(613);a.a=(n={data:function(){var t=this;return{pageSize:10,pageCount:100,pageCurrent:1,areaList:[],areas:[],areas_column:[{title:"编号",key:"areaNumber",width:80},{title:"名称",key:"name"},{title:"所属区域",key:"parentAreaName"},{title:"类型",key:"type"},{title:"重点区域",align:"center",render:function(t,a){var e="info";return a.row.important&&"重要"==a.row.important&&(e="error"),t("Button",{props:{type:e,size:"small",shape:"circle"},on:{click:function(){a.row.important&&"重要"==a.row.important?a.row.important="普通":a.row.important="重要"}}},a.row.important)}},{title:"标签",align:"center",render:function(t,a){var e=[];if(a.row.tags){var r=a.row.tags.split(",");for(var n in r)if(r[n]){var i=t("Tag",{props:{color:"blue",fade:!0}},r[n]);e.push(i)}}return t("div",e)}},{title:"阈值",key:"limit"},{title:"当前数量",key:"bike_num"},{title:"操作",align:"center",minWidth:300,render:function(a,e){return a("div",[a("Button",{props:{size:"small"},on:{click:function(){var a="";t.$Modal.confirm({title:"编辑区域",onOk:function(){if(a){var e=new URLSearchParams;e.append("param",JSON.stringify(a)),t.$ajax({method:"post",url:t.$uri+"mapInterface/updateArea",data:e}).then(function(t){e.row.name=a.name,e.row.important=a.important,e.row.limit=a.limit,e.row.type=a.type,e.row.tags=a.tags.join(),e.row.parentAreaId=a.parentAreaId}).catch(function(t){console.log(t)})}},render:function(r){return r(i.a,{props:{prop_value:{rows:e.row,areaList:t.$data.areaList}},on:{recieveData:function(t){a=t}}})}})}}},"编辑"),a("Button",{props:{size:"small"},style:{marginLeft:"5px"},on:{click:function(){t.$router.push({path:"/richangjianguan/addRegion",query:{id:e.row.id}})}}},"区域编辑"),a("Button",{props:{size:"small",type:"error"},style:{marginLeft:"5px"},on:{click:function(){"行政区域"==e.row.type?t.$Message.warning("不能删除行政区域"):t.$data.areas.splice(e.index,1)}}},"删除")])}}]}},methods:{add_area:function(){var t=this,a={id:"",tags:"",name:"",limit:"",bike_num:"",important:"不重要",type:"自定义区域"};this.$Modal.confirm({title:"添加区域",onOk:function(){console.log(a.tags),a.tags=a.tags.join(),t.$data.areas.push(a)},render:function(t){return t(s.a,{props:{prop_value:a}})}})}}},r(n,"methods",{area_info:function(t){this.$router.push({path:"/richangjianguan/area_info_modal",query:{params:t.row}})},get_area_date:function(t){var a=this,e="6941139967a311e8a93e1843420641b8";t&&(e=t);var r=new URLSearchParams;r.append("parentId",e),this.$ajax({method:"post",url:this.$uri+"mapInterface/getAreaData",data:r}).then(function(t){t.data.rows.splice(0,0,{value:"6941139967a311e8a93e1843420641b8",label:"成都市"}),a.$data.areaList=t.data.rows}).catch(function(t){console.log(t)})},add_area:function(){var t=this,a={id:"",tags:"",name:"",limit:"",bike_num:"",important:"不重要",type:"自定义区域"};this.$Modal.confirm({title:"添加区域",onOk:function(){console.log(a.tags),a.tags=a.tags.join(),t.$data.areas.push(a)},render:function(t){return t(s.a,{props:{prop_value:a}})}})},get_data:function(t){var a=this,e=this.$refs.area.publicValue,r=new URLSearchParams,n={};n.parentAreaId=""!=e&&e?e:"6941139967a311e8a93e1843420641b8",t&&"number"==typeof t&&r.append("pagenum",parseInt(t)),r.append("param",JSON.stringify(n)),this.$ajax({method:"post",url:this.$uri+"mapInterface/getAreaListByPage",data:r}).then(function(t){a.$data.areas=t.data.rows,a.$data.pageCount=t.data.total}).catch(function(t){console.log(t)})}}),r(n,"mounted",function(){this.get_data(),this.get_area_date()}),n)},569:function(t,a,e){"use strict";a.a={props:{prop_value:""},data:function(){return{input_value:"",show_value:"",is_edit:!1}},mounted:function(){this.$data.show_value=this.$props.prop_value},methods:{edit:function(){this.$data.input_value=this.$data.show_value,this.$data.is_edit=!0},save:function(){this.$data.show_value=this.$data.input_value,this.$data.is_edit=!1},cancel:function(){this.$data.is_edit=!1}}}},57:function(t,a,e){"use strict";function r(t){s||e(607)}Object.defineProperty(a,"__esModule",{value:!0});var n=e(568),i=e(616),s=!1,o=e(1),l=r,u=o(n.a,i.a,!1,l,"data-v-e7effe26",null);u.options.__file="src\\views\\page\\richangjianguan\\area.vue",a.default=u.exports},570:function(t,a,e){"use strict";a.a={props:{prop_value:""},data:function(){return{current_data:"",areaList:[]}},methods:{get_area_date:function(t){var a=this,e="6941139967a311e8a93e1843420641b8";t&&(e=t);var r=new URLSearchParams;r.append("parentId",e),this.$ajax({method:"post",url:this.$uri+"mapInterface/getAreaData",data:r}).then(function(t){t.data.rows.splice(0,0,{value:"6941139967a311e8a93e1843420641b8",label:"成都市"}),a.$data.areaList=t.data.rows}).catch(function(t){console.log(t)})}},watch:{current_data:function(){this.$emit("recieveData",this.$data.current_data)}},mounted:function(){var t=JSON.parse(JSON.stringify(this.$props.prop_value.rows)),a=JSON.parse(JSON.stringify(this.$props.prop_value.areaList));t.tags?t.tags=t.tags.split(","):t.tags=[],this.$data.areaList=a,this.$data.current_data=t}}},571:function(t,a,e){"use strict";a.a={props:{prop_value:""},data:function(){return{current_data:{areaNumber:Date.parse(new Date)},areaList:[]}},methods:{get_area_date:function(t){var a=this,e="6941139967a311e8a93e1843420641b8";t&&(e=t);var r=new URLSearchParams;r.append("parentId",e),this.$ajax({method:"post",url:this.$uri+"mapInterface/getAreaData",data:r}).then(function(t){t.data.rows.splice(0,0,{value:"6941139967a311e8a93e1843420641b8",label:"成都市"}),a.$data.areaList=t.data.rows}).catch(function(t){console.log(t)})}},mounted:function(){this.get_area_date()}}},607:function(t,a){},608:function(t,a,e){"use strict";var r=e(569),n=e(609),i=e(1),s=i(r.a,n.a,!1,null,null,null);s.options.__file="src\\views\\page\\components\\edit_cell.vue";s.exports},609:function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.is_edit?e("div",[e("span",{staticStyle:{float:"left",width:"100px",align:"center"}},[e("Input",{attrs:{size:"small"},model:{value:t.input_value,callback:function(a){t.input_value=a},expression:"input_value"}})],1),t._v(" "),e("span",{staticStyle:{float:"right"}},[e("Tooltip",{attrs:{content:"确认",placement:"top"}},[e("Button",{attrs:{type:"success",size:"small"},on:{click:t.save}},[e("Icon",{attrs:{type:"checkmark"}})],1)],1),t._v(" "),e("Tooltip",{attrs:{content:"取消",placement:"top"}},[e("Button",{attrs:{type:"error",size:"small"},on:{click:t.cancel}},[e("Icon",{attrs:{type:"close-round"}})],1)],1)],1)]):e("div",[e("span",[t._v(t._s(t.show_value))]),t._v(" "),e("span",{staticStyle:{float:"right"}},[e("Tooltip",{attrs:{content:"编辑",placement:"top"}},[e("a",{staticStyle:{color:"black"},attrs:{href:"javascript:void(0);"},on:{click:t.edit}},[e("Icon",{attrs:{type:"edit"}})],1)])],1)])},n=[];r._withStripped=!0;var i={render:r,staticRenderFns:n};a.a=i},610:function(t,a,e){"use strict";function r(t){s||e(611)}var n=e(570),i=e(612),s=!1,o=e(1),l=r,u=o(n.a,i.a,!1,l,"data-v-59ebbb7a",null);u.options.__file="src\\views\\page\\richangjianguan\\area_edit_modal.vue",a.a=u.exports},611:function(t,a){},612:function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("br"),t._v(" "),e("Input",{attrs:{disabled:""},model:{value:t.current_data.areaNumber,callback:function(a){t.$set(t.current_data,"areaNumber",a)},expression:"current_data.areaNumber"}},[e("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("编号")])]),t._v(" "),e("br"),t._v(" "),e("Input",{model:{value:t.current_data.name,callback:function(a){t.$set(t.current_data,"name",a)},expression:"current_data.name"}},[e("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("名称")])]),t._v(" "),e("br"),t._v(" "),e("Select",{ref:"area",attrs:{placeholder:"所属区域"},model:{value:t.current_data.parentAreaId,callback:function(a){t.$set(t.current_data,"parentAreaId",a)},expression:"current_data.parentAreaId"}},t._l(t.areaList,function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.label))])})),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("Select",{attrs:{label:"重点区域"},model:{value:t.current_data.important,callback:function(a){t.$set(t.current_data,"important",a)},expression:"current_data.important"}},[e("Option",{key:"重要",attrs:{value:"重要"}},[t._v("重要")]),t._v(" "),e("Option",{key:"普通",attrs:{value:"普通"}},[t._v("普通")])],1),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("Select",{attrs:{label:"类型"},model:{value:t.current_data.type,callback:function(a){t.$set(t.current_data,"type",a)},expression:"current_data.type"}},[e("Option",{key:"行政区域",attrs:{value:"行政区域"}},[t._v("行政区域")]),t._v(" "),e("Option",{key:"自定义区域",attrs:{value:"自定义区域"}},[t._v("自定义区域")])],1),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("Select",{attrs:{label:"标签",multiple:""},model:{value:t.current_data.tags,callback:function(a){t.$set(t.current_data,"tags",a)},expression:"current_data.tags"}},[e("Option",{key:"禁停",attrs:{value:"禁停"}},[t._v("禁停")]),t._v(" "),e("Option",{key:"禁投",attrs:{value:"禁投"}},[t._v("禁投")])],1),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("Input",{model:{value:t.current_data.limit,callback:function(a){t.$set(t.current_data,"limit",a)},expression:"current_data.limit"}},[e("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("阈值")])]),t._v(" "),e("br"),t._v(" "),e("Input",{attrs:{disabled:""},model:{value:t.current_data.bike_num,callback:function(a){t.$set(t.current_data,"bike_num",a)},expression:"current_data.bike_num"}},[e("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("当前数量")])])],1)},n=[];r._withStripped=!0;var i={render:r,staticRenderFns:n};a.a=i},613:function(t,a,e){"use strict";function r(t){s||e(614)}var n=e(571),i=e(615),s=!1,o=e(1),l=r,u=o(n.a,i.a,!1,l,"data-v-956d3286",null);u.options.__file="src\\views\\page\\richangjianguan\\area_add_modal.vue",a.a=u.exports},614:function(t,a){},615:function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("br"),t._v(" "),e("Input",{attrs:{disabled:""},model:{value:t.current_data.areaNumber,callback:function(a){t.$set(t.current_data,"areaNumber",a)},expression:"current_data.areaNumber"}},[e("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("编号")])]),t._v(" "),e("br"),t._v(" "),e("Input",{model:{value:t.current_data.name,callback:function(a){t.$set(t.current_data,"name",a)},expression:"current_data.name"}},[e("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("名称")])]),t._v(" "),e("br"),t._v(" "),e("Select",{ref:"area",attrs:{placeholder:"所属区域"},model:{value:t.current_data.parentAreaId,callback:function(a){t.$set(t.current_data,"parentAreaId",a)},expression:"current_data.parentAreaId"}},t._l(t.areaList,function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.label))])})),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("Select",{attrs:{label:"重点区域"},model:{value:t.current_data.important,callback:function(a){t.$set(t.current_data,"important",a)},expression:"current_data.important"}},[e("Option",{key:"重要",attrs:{value:"重要"}},[t._v("重要")]),t._v(" "),e("Option",{key:"普通",attrs:{value:"普通"}},[t._v("普通")])],1),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("Select",{attrs:{disabled:"",label:"类型"},model:{value:t.current_data.type,callback:function(a){t.$set(t.current_data,"type",a)},expression:"current_data.type"}},[e("Option",{key:"行政区域",attrs:{value:"行政区域"}},[t._v("行政区域")]),t._v(" "),e("Option",{key:"自定义区域",attrs:{value:"自定义区域"}},[t._v("自定义区域")])],1),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("Select",{attrs:{label:"标签",multiple:""},model:{value:t.current_data.tags,callback:function(a){t.$set(t.current_data,"tags",a)},expression:"current_data.tags"}},[e("Option",{key:"禁停",attrs:{value:"禁停"}},[t._v("禁停")]),t._v(" "),e("Option",{key:"禁投",attrs:{value:"禁投"}},[t._v("禁投")])],1),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("Input",{model:{value:t.current_data.limit,callback:function(a){t.$set(t.current_data,"limit",a)},expression:"current_data.limit"}},[e("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("阈值")])]),t._v(" "),e("br"),t._v(" "),e("Input",{model:{value:t.current_data.bike_num,callback:function(a){t.$set(t.current_data,"bike_num",a)},expression:"current_data.bike_num"}},[e("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("当前数量")])])],1)},n=[];r._withStripped=!0;var i={render:r,staticRenderFns:n};a.a=i},616:function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Row",{staticClass:"box_card"},[e("Col",{staticStyle:{"padding-right":"10px"},attrs:{span:"3"}},[e("Input",{attrs:{placeholder:"查询条件"}})],1),t._v(" "),e("Col",{staticStyle:{"padding-right":"10px"},attrs:{span:"3"}},[e("Select",{ref:"area",attrs:{placeholder:"选择区域"}},t._l(t.areaList,function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.label))])}))],1),t._v(" "),e("Col",{staticStyle:{"padding-right":"10px"},attrs:{span:"4"}},[e("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:t.get_data}},[t._v("查询")])],1)],1),t._v(" "),e("Row",{staticClass:"box_card"},[e("Card",[e("p",{attrs:{slot:"title"},slot:"title"},[e("Icon",{attrs:{type:"code-working"}}),t._v("\n                区域列表\n            ")],1),t._v(" "),e("a",{attrs:{slot:"extra",href:"javascript:void(0);"},on:{click:function(a){t.add_area()}},slot:"extra"},[e("Icon",{attrs:{type:"ios-plus-empty"}}),t._v("\n                新增区域\n            ")],1),t._v(" "),e("Table",{attrs:{stripe:"",columns:t.areas_column,data:t.areas}})],1)],1),t._v(" "),e("Row",{staticClass:"box_card"},[e("Page",{attrs:{total:t.pageCount,current:t.pageCurrent,"page-size":t.pageSize,size:"small","show-total":"","show-elevator":""},on:{"on-change":t.get_data}})],1)],1)},n=[];r._withStripped=!0;var i={render:r,staticRenderFns:n};a.a=i}});